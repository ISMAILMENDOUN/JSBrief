<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    
</head>
<body>
    

<section class="add">
    <h2> Edit article</h2>
    <div class="editArticle">
        <div>
            <h3>Title</h3><input type="text" id="editTitle">
        </div>
        <div>
            <h3>Image URL</h3><input type="text" id="editImage">
        </div>
        <div>
            <h3>Text</h3><textarea cols="90" rows="30" name="at" id="editText"></textarea>
        </div>
        <div>
            <h3><button onclick="editArticle();">Save Changes</button></h3>
        </div>
    </div>

</section>
<script>document.addEventListener('DOMContentLoaded', function () {
    const queryString = window.location.search;
    const urlParams = new URLSearchParams(queryString);
    const articleIndex = parseInt(urlParams.get('index'));

    let articles = JSON.parse(localStorage.getItem('articles')) || [];
    const article = articles[articleIndex];

    document.getElementById('editTitle').value = article.title;
    document.getElementById('editImage').value = article.image;
    document.getElementById('editText').value = article.article;
});

function editArticle() {
    const queryString = window.location.search;
    const urlParams = new URLSearchParams(queryString);
    const articleIndex = parseInt(urlParams.get('index'));

    let articles = JSON.parse(localStorage.getItem('articles')) || [];
    const article = articles[articleIndex];

    article.title = document.getElementById('editTitle').value;
    article.image = document.getElementById('editImage').value;
    article.article = document.getElementById('editText').value;

    articles[articleIndex] = article;
    localStorage.setItem('articles', JSON.stringify(articles));

    window.location.href = 'MyArticles.html';
}
</script>
</body>





</html>